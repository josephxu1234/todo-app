{"ast":null,"code":"import _slicedToArray from\"/home/joseph/Desktop/gotrust/todo-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import AuthenticationService from'./AuthenticationService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UNINIT_LOGIN=0;var SUCCESS_LOGIN=1;var FAIL_LOGIN=2;function Login(){var _useState=useState('username'),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState('password'),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(UNINIT_LOGIN),_useState6=_slicedToArray(_useState5,2),loginState=_useState6[0],setLoginState=_useState6[1];var history=useHistory();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Username\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:username,onChange:function onChange(event){return setUsername(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Password\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);}})]}),/*#__PURE__*/_jsx(LoginButton,{className:\"btn btn-success\",username:username,password:password,setloginstate:setLoginState,history:history}),loginState===SUCCESS_LOGIN&&/*#__PURE__*/_jsx(\"div\",{children:\" LOGIN SUCCESS\"}),loginState===FAIL_LOGIN&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-warning\",children:\" LOGIN FAIL\"})]});}function LoginButton(props){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return loginClick(props.username,props.password,props.setloginstate,props.history);},children:\" Login \"})});}function loginClick(username,password,setloginstate,history){if(username===\"josephxu1234\"&&password===\"password\"){AuthenticationService.registerSuccessfulLogin(username,password);console.log(\"Authentication success\");setloginstate(SUCCESS_LOGIN);history.push(\"/welcome/\".concat(username));}else{console.log(\"Failed\");setloginstate(FAIL_LOGIN);}}export default Login;","map":{"version":3,"sources":["/home/joseph/Desktop/gotrust/todo-app/src/components/todo/Login.jsx"],"names":["React","useState","useHistory","AuthenticationService","UNINIT_LOGIN","SUCCESS_LOGIN","FAIL_LOGIN","Login","username","setUsername","password","setPassword","loginState","setLoginState","history","event","target","value","LoginButton","props","loginClick","setloginstate","registerSuccessfulLogin","console","log","push"],"mappings":"wHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,qBAAP,KAAkC,yBAAlC,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,CAArB,CACA,GAAMC,CAAAA,aAAa,CAAG,CAAtB,CACA,GAAMC,CAAAA,UAAU,CAAG,CAAnB,CAEA,QAASC,CAAAA,KAAT,EAAiB,CAEb,cAAgCN,QAAQ,CAAC,UAAD,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAAgCR,QAAQ,CAAC,UAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eACA,eAAoCV,QAAQ,CAACG,YAAD,CAA5C,yCAAOQ,UAAP,eAAmBC,aAAnB,eACA,GAAMC,CAAAA,OAAO,CAAGZ,UAAU,EAA1B,CACA,mBACI,oCACI,+CAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,KAAK,CAAEM,QAA1C,CAAoD,QAAQ,CAAE,kBAACO,KAAD,QAAWN,CAAAA,WAAW,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAtB,EAA9D,EAFJ,GADJ,cAMI,+CAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,KAAK,CAAEP,QAA1C,CAAoD,QAAQ,CAAE,kBAACK,KAAD,QAAWJ,CAAAA,WAAW,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAtB,EAA9D,EAFJ,GANJ,cAUI,KAAC,WAAD,EAAa,SAAS,CAAC,iBAAvB,CAAyC,QAAQ,CAAET,QAAnD,CAA6D,QAAQ,CAAEE,QAAvE,CAAiF,aAAa,CAAEG,aAAhG,CAA+G,OAAO,CAAEC,OAAxH,EAVJ,CAWKF,UAAU,GAAKP,aAAf,eAAgC,uCAXrC,CAYKO,UAAU,GAAKN,UAAf,eAA6B,YAAK,SAAS,CAAC,qBAAf,yBAZlC,GADJ,CAgBH,CAED,QAASY,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,CACxB,mBACI,kCACI,eAAQ,OAAO,CAAE,yBAAMC,CAAAA,UAAU,CAACD,KAAK,CAACX,QAAP,CAAiBW,KAAK,CAACT,QAAvB,CAAiCS,KAAK,CAACE,aAAvC,CAAsDF,KAAK,CAACL,OAA5D,CAAhB,EAAjB,qBADJ,EADJ,CAKH,CAED,QAASM,CAAAA,UAAT,CAAoBZ,QAApB,CAA8BE,QAA9B,CAAwCW,aAAxC,CAAuDP,OAAvD,CAAgE,CAC5D,GAAIN,QAAQ,GAAK,cAAb,EAA+BE,QAAQ,GAAK,UAAhD,CAA4D,CACxDP,qBAAqB,CAACmB,uBAAtB,CAA8Cd,QAA9C,CAAwDE,QAAxD,EACAa,OAAO,CAACC,GAAR,CAAY,wBAAZ,EACAH,aAAa,CAAChB,aAAD,CAAb,CACAS,OAAO,CAACW,IAAR,oBAAyBjB,QAAzB,GACH,CALD,IAMK,CACDe,OAAO,CAACC,GAAR,CAAY,QAAZ,EACAH,aAAa,CAACf,UAAD,CAAb,CACH,CACJ,CAED,cAAeC,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport AuthenticationService from './AuthenticationService';\r\n\r\nconst UNINIT_LOGIN = 0;\r\nconst SUCCESS_LOGIN = 1;\r\nconst FAIL_LOGIN = 2;\r\n\r\nfunction Login() {\r\n\r\n    const [username, setUsername] = useState('username');\r\n    const [password, setPassword] = useState('password');\r\n    const [loginState, setLoginState] = useState(UNINIT_LOGIN);\r\n    const history = useHistory();\r\n    return (\r\n        <div>\r\n            <div>\r\n                Username\r\n                <input type=\"text\" name=\"username\" value={username} onChange={(event) => setUsername(event.target.value)} />\r\n            </div>\r\n\r\n            <div>\r\n                Password\r\n                <input type=\"text\" name=\"password\" value={password} onChange={(event) => setPassword(event.target.value)} />\r\n            </div>\r\n            <LoginButton className=\"btn btn-success\" username={username} password={password} setloginstate={setLoginState} history={history} />\r\n            {loginState === SUCCESS_LOGIN && <div> LOGIN SUCCESS</div>}\r\n            {loginState === FAIL_LOGIN && <div className=\"alert alert-warning\"> LOGIN FAIL</div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction LoginButton(props) {\r\n    return (\r\n        <div>\r\n            <button onClick={() => loginClick(props.username, props.password, props.setloginstate, props.history)}> Login </button>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction loginClick(username, password, setloginstate, history) {\r\n    if (username === \"josephxu1234\" && password === \"password\") {\r\n        AuthenticationService.registerSuccessfulLogin(username, password);\r\n        console.log(\"Authentication success\");\r\n        setloginstate(SUCCESS_LOGIN);\r\n        history.push(`/welcome/${username}`);\r\n    }\r\n    else {\r\n        console.log(\"Failed\");\r\n        setloginstate(FAIL_LOGIN);\r\n    }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}