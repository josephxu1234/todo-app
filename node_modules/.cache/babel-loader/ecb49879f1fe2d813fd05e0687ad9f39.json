{"ast":null,"code":"import _slicedToArray from\"/home/joseph/Desktop/gotrust/todo-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useHistory}from'react-router-dom';import TodoService from'../../api/todo/TodoService.js';import moment from'moment';import AuthenticationService from'./AuthenticationService.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListTodos(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),numTodos=_useState4[0],setNumTodos=_useState4[1];var history=useHistory();useEffect(function(){var username=AuthenticationService.getUsername();TodoService.retrieveAllTodos(username).then(function(response){setTodos(response.data);setNumTodos(todos.length);});},[numTodos]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Todos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Is completed?\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Target Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Update\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:todos.map(function(todo){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:todo.description}),/*#__PURE__*/_jsx(\"td\",{children:todo.done.toString()}),/*#__PURE__*/_jsx(\"td\",{children:moment(todo.targetDate).format('YYYY-MM-DD')}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:function onClick(){return history.push(\"/todos/\".concat(todo.id));},children:\" Update \"}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",onClick:function onClick(){deleteTodo(todo.id);setNumTodos(numTodos-1);},children:\" Delete \"}),\" \"]})]},todo.id);})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:function onClick(){return history.push(\"/todos/-1\");},children:\" Add \"})})]})]});}function updateTodo(props,id){console.log(\"update clicked\"+id);}function deleteTodo(id){var name=AuthenticationService.getUsername();TodoService.deleteTodo(name,id);}export default ListTodos;","map":{"version":3,"sources":["/home/joseph/Desktop/gotrust/todo-app/src/components/todo/ListTodos.jsx"],"names":["React","useState","useEffect","useHistory","TodoService","moment","AuthenticationService","ListTodos","todos","setTodos","numTodos","setNumTodos","history","username","getUsername","retrieveAllTodos","then","response","data","length","map","todo","description","done","toString","targetDate","format","push","id","deleteTodo","updateTodo","props","console","log","name"],"mappings":"wHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,4BAAlC,C,wFAEA,QAASC,CAAAA,SAAT,EAAqB,CACjB,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,eAAgCR,QAAQ,CAAC,CAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CAEAD,SAAS,CAAC,UAAM,CACZ,GAAIW,CAAAA,QAAQ,CAAGP,qBAAqB,CAACQ,WAAtB,EAAf,CACAV,WAAW,CAACW,gBAAZ,CAA6BF,QAA7B,EAAuCG,IAAvC,CACI,SAAAC,QAAQ,CAAI,CACRR,QAAQ,CAACQ,QAAQ,CAACC,IAAV,CAAR,CACAP,WAAW,CAACH,KAAK,CAACW,MAAP,CAAX,CACH,CAJL,EAMH,CARQ,CAQN,CAACT,QAAD,CARM,CAAT,CASA,mBACI,oCACI,6BADJ,cAGI,aAAK,SAAS,CAAC,WAAf,wBACI,eAAO,SAAS,CAAC,OAAjB,wBACI,oCACI,mCACI,mCADJ,cAEI,qCAFJ,cAGI,mCAHJ,cAII,8BAJJ,cAKI,8BALJ,GADJ,EADJ,cAWI,uBAEQF,KAAK,CAACY,GAAN,CACI,SAAAC,IAAI,qBACA,mCACI,oBAAKA,IAAI,CAACC,WAAV,EADJ,cAEI,oBAAKD,IAAI,CAACE,IAAL,CAAUC,QAAV,EAAL,EAFJ,cAGI,oBAAKnB,MAAM,CAACgB,IAAI,CAACI,UAAN,CAAN,CAAwBC,MAAxB,CAA+B,YAA/B,CAAL,EAHJ,cAII,uCAAK,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,yBAAMd,CAAAA,OAAO,CAACe,IAAR,kBAAuBN,IAAI,CAACO,EAA5B,EAAN,EAA7C,sBAAL,OAJJ,cAKI,uCAAK,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,kBAAM,CAAEC,UAAU,CAACR,IAAI,CAACO,EAAN,CAAV,CAAqBjB,WAAW,CAACD,QAAQ,CAAG,CAAZ,CAAX,CAA2B,CAArG,sBAAL,OALJ,GAASW,IAAI,CAACO,EAAd,CADA,EADR,CAFR,EAXJ,GADJ,cA4BI,YAAK,KAAK,CAAC,KAAX,uBACI,eAAQ,SAAS,CAAG,iBAApB,CAAsC,OAAO,CAAE,yBAAMhB,CAAAA,OAAO,CAACe,IAAR,aAAN,EAA/C,mBADJ,EA5BJ,GAHJ,GADJ,CAsCH,CAED,QAASG,CAAAA,UAAT,CAAoBC,KAApB,CAA2BH,EAA3B,CAA+B,CAE3BI,OAAO,CAACC,GAAR,CAAY,iBAAmBL,EAA/B,EACH,CAED,QAASC,CAAAA,UAAT,CAAoBD,EAApB,CAAwB,CACpB,GAAIM,CAAAA,IAAI,CAAG5B,qBAAqB,CAACQ,WAAtB,EAAX,CACAV,WAAW,CAACyB,UAAZ,CAAuBK,IAAvB,CAA6BN,EAA7B,EAEH,CACD,cAAerB,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport TodoService from '../../api/todo/TodoService.js';\r\nimport moment from 'moment';\r\nimport AuthenticationService from './AuthenticationService.js'\r\n\r\nfunction ListTodos() {\r\n    const [todos, setTodos] = useState([]);\r\n    const [numTodos, setNumTodos] = useState(0);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        let username = AuthenticationService.getUsername();\r\n        TodoService.retrieveAllTodos(username).then(\r\n            response => {\r\n                setTodos(response.data);\r\n                setNumTodos(todos.length)\r\n            }\r\n        );\r\n    }, [numTodos])\r\n    return (\r\n        <div>\r\n            <h1>Todos</h1>\r\n\r\n            <div className=\"container\">\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Description</th>\r\n                            <th>Is completed?</th>\r\n                            <th>Target Date</th>\r\n                            <th>Update</th>\r\n                            <th>Delete</th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n                    <tbody>\r\n                        {\r\n                            todos.map(\r\n                                todo =>\r\n                                    <tr key={todo.id}>\r\n                                        <td>{todo.description}</td>\r\n                                        <td>{todo.done.toString()}</td>\r\n                                        <td>{moment(todo.targetDate).format('YYYY-MM-DD')}</td>\r\n                                        <td> <button className=\"btn btn-success\" onClick={() => history.push(`/todos/${todo.id}`)}> Update </button> </td>\r\n                                        <td> <button className=\"btn btn-warning\" onClick={() => { deleteTodo(todo.id); setNumTodos(numTodos - 1) }}> Delete </button> </td>\r\n                                    </tr>\r\n                            )\r\n                        }\r\n\r\n                    </tbody>\r\n                </table>\r\n                <div class=\"row\">\r\n                    <button className = \"btn btn-success\" onClick={() => history.push(`/todos/-1`)}> Add </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction updateTodo(props, id) {\r\n\r\n    console.log(\"update clicked\" + id);\r\n}\r\n\r\nfunction deleteTodo(id) {\r\n    let name = AuthenticationService.getUsername();\r\n    TodoService.deleteTodo(name, id);\r\n\r\n}\r\nexport default ListTodos;"]},"metadata":{},"sourceType":"module"}