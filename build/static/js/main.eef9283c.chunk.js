(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(37),o=n.n(a),r=(n(45),n(46),n(47),n(6)),i=n(2),l=n(40),d=n(17),j=n(18),u=new(function(){function e(){Object(d.a)(this,e)}return Object(j.a)(e,[{key:"registerSuccessfulLogin",value:function(e,t){console.log("success"),sessionStorage.setItem("authUser",e)}},{key:"logout",value:function(){sessionStorage.removeItem("authUser")}},{key:"userLoggedIn",value:function(){return null!==sessionStorage.getItem("authUser")}},{key:"getUsername",value:function(){var e=sessionStorage.getItem("authUser");return null===e?"":e}}]),e}()),b=n(1);var h=function(e){return u.userLoggedIn()?Object(b.jsx)(i.b,Object(l.a)({},e)):Object(b.jsx)(i.a,{to:"/login"})},O=n(10);function x(e){return Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){return t=e.username,n=e.password,c=e.setloginstate,s=e.history,void("josephxu1234"===t&&"password"===n?(u.registerSuccessfulLogin(t,n),console.log("Authentication success"),c(1),s.push("/welcome/".concat(t))):(console.log("Failed"),c(2)));var t,n,c,s},children:" Login "})})}var v=function(){var e=Object(c.useState)("username"),t=Object(O.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)("password"),o=Object(O.a)(a,2),r=o[0],l=o[1],d=Object(c.useState)(0),j=Object(O.a)(d,2),u=j[0],h=j[1],v=Object(i.g)();return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["Username",Object(b.jsx)("input",{type:"text",name:"username",value:n,onChange:function(e){return s(e.target.value)}})]}),Object(b.jsxs)("div",{children:["Password",Object(b.jsx)("input",{type:"text",name:"password",value:r,onChange:function(e){return l(e.target.value)}})]}),Object(b.jsx)(x,{className:"btn btn-success",username:n,password:r,setloginstate:h,history:v}),1===u&&Object(b.jsx)("div",{children:" LOGIN SUCCESS"}),2===u&&Object(b.jsx)("div",{className:"alert alert-warning",children:" LOGIN FAIL"})]})},m=n(12),g=n.n(m),p=new(function(){function e(){Object(d.a)(this,e)}return Object(j.a)(e,[{key:"retrieveAllTodos",value:function(e){return g.a.get("http://localhost:8080/users/".concat(e,"/todos"))}},{key:"deleteTodo",value:function(e,t){return g.a.delete("http://localhost:8080/users/".concat(e,"/todos/").concat(t))}},{key:"retrieveTodo",value:function(e,t){return g.a.get("http://localhost:8080/users/".concat(e,"/todos/").concat(t))}},{key:"updateTodo",value:function(e,t,n){return g.a.put("http://localhost:8080/users/".concat(e,"/todos/").concat(t),n)}},{key:"createTodo",value:function(e,t){return g.a.put("http://localhost:8080/users/".concat(e,"/todos"),t)}}]),e}()),f=n(19),N=n.n(f);var k=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(0),o=Object(O.a)(a,2),r=o[0],l=o[1],d=Object(i.g)();return Object(c.useEffect)((function(){var e=u.getUsername();p.retrieveAllTodos(e).then((function(e){s(e.data),l(n.length)}))}),[r]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Todos"}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Description"}),Object(b.jsx)("th",{children:"Is completed?"}),Object(b.jsx)("th",{children:"Target Date"}),Object(b.jsx)("th",{children:"Update"}),Object(b.jsx)("th",{children:"Delete"})]})}),Object(b.jsx)("tbody",{children:n.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.description}),Object(b.jsx)("td",{children:e.done.toString()}),Object(b.jsx)("td",{children:N()(e.targetDate).format("YYYY-MM-DD")}),Object(b.jsxs)("td",{children:[" ",Object(b.jsx)("button",{className:"btn btn-success",onClick:function(){return d.push("/todos/".concat(e.id))},children:" Update "})," "]}),Object(b.jsxs)("td",{children:[" ",Object(b.jsx)("button",{className:"btn btn-warning",onClick:function(){!function(e){var t=u.getUsername();p.deleteTodo(t,e)}(e.id),l(r-1)},children:" Delete "})," "]})]},e.id)}))})]}),Object(b.jsx)("div",{class:"row",children:Object(b.jsx)("button",{className:"btn btn-success",onClick:function(){return d.push("/todos/-1")},children:" Add "})})]})]})};var S=Object(i.h)((function(){var e=u.userLoggedIn();return console.log(e),Object(b.jsx)("header",{children:Object(b.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark",children:[Object(b.jsx)("div",{children:Object(b.jsx)("h1",{className:"navbar-brand",children:"josephxu1234"})}),Object(b.jsxs)("ul",{className:"navbar-nav",children:[e&&Object(b.jsxs)("li",{children:[" ",Object(b.jsx)(r.b,{to:"/welcome/josephxu1234",className:"nav-link",children:"Home"})]},"welcome"),e&&Object(b.jsxs)("li",{children:[" ",Object(b.jsx)(r.b,{to:"/todos",className:"nav-link",children:"Todos"})]},"todos")]}),Object(b.jsxs)("ul",{className:"navbar-nav navbar-collapse justify-content-end",children:[!e&&Object(b.jsxs)("li",{children:[" ",Object(b.jsx)(r.b,{to:"/login",className:"nav-link",children:"Login "})]},"login"),e&&Object(b.jsxs)("li",{children:[" ",Object(b.jsx)(r.b,{to:"/logout",className:"nav-link",onClick:u.logout,children:"Logout "})]},"logout")]})]})})}));var w=function(){return Object(b.jsx)("footer",{className:"footer",children:Object(b.jsx)("span",{className:"text-muted",children:" All Rights Reserved"})})};var y=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:" You are logged out "}),Object(b.jsx)("div",{className:"container",children:"Thank you for using this application"})]})};var T=function(){return Object(b.jsx)("div",{children:"Error! Wrong path!"})},D=new(function(){function e(){Object(d.a)(this,e)}return Object(j.a)(e,[{key:"executeHelloWorldService",value:function(){return g.a.get("http://localhost:8080/hello-world")}},{key:"executeHelloWorldBeanService",value:function(){return g.a.get("http://localhost:8080/hello-world-bean")}},{key:"executeHelloWorldPathVariableService",value:function(e){return g.a.get("http://localhost:8080/hello-world/path-variable/".concat(e))}}]),e}());var C=function(e){var t=Object(c.useState)(""),n=Object(O.a)(t,2),s=n[0],a=n[1],o=e.match.params.name;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:" Welcome! "}),Object(b.jsxs)("div",{className:"container",children:["Welcome ",o,"! You can manage your todos ",Object(b.jsx)(r.b,{to:"/todos",children:" here "})]}),Object(b.jsxs)("div",{className:"container",children:["Click here for a custom welcome message ",Object(b.jsx)("button",{className:"btn btn-success",onClick:function(){return function(e,t){D.executeHelloWorldPathVariableService(t).then((function(t){return e(t.data.message)})).catch()}(a,o)},children:" Click here! "})]}),Object(b.jsx)("div",{children:s})]})},U=n(16);function Y(e){var t={};return e.desc||(t.desc="Enter a description"),N()(e.date).isValid()||(t.date="Enter a valid target date"),t}var I=function(e){var t=e.match.params.id,n=u.getUsername(),s=Object(c.useState)(""),a=Object(O.a)(s,2),o=a[0],r=a[1],l=Object(c.useState)(N()(new Date).format("YYYY-MM-DD")),d=Object(O.a)(l,2),j=d[0],h=d[1],x=Object(i.g)();return Object(c.useEffect)((function(){-1!==t&&p.retrieveTodo(n,t).then((function(e){r(e.data.description),h(N()(e.data.targetDate).format("YYYY-MM-DD")),console.log("set")}))})),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:" Todo "}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(U.d,{initialValues:{desc:o,date:j,id:t},onSubmit:function(e){var n=u.getUsername(),c={id:e.id,description:e.desc,targetDate:e.date};if(-1===t)p.createTodo(n,c).then((function(){x.push("/todos")}));else{var s=u.getUsername();p.updateTodo(s,e.id,c).then((function(){x.push("/todos")}))}},validate:Y,validateOnChange:!1,validateOnBlur:!1,enableReinitialize:!0,children:function(e){return Object(b.jsxs)(U.c,{children:[Object(b.jsx)(U.a,{name:"desc",component:"div",className:"alert alert-warning"}),Object(b.jsx)(U.a,{name:"date",component:"div",className:"alert alert-warning"}),Object(b.jsxs)("fieldset",{className:"form-group",children:[Object(b.jsx)("label",{children:" Description"}),Object(b.jsx)(U.b,{className:"form-control",type:"text",name:"desc"})]}),Object(b.jsxs)("fieldset",{className:"form-group",children:[Object(b.jsx)("label",{children:" Target Date"}),Object(b.jsx)(U.b,{className:"form-control",type:"date",name:"date"})]}),Object(b.jsx)("button",{className:"btn btn-success",type:"submit",children:" Save "})]})}})})]})};var L=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(r.a,{children:[Object(b.jsx)(S,{}),Object(b.jsxs)(i.d,{children:[Object(b.jsx)(i.b,{path:"/",exact:!0,component:v}),Object(b.jsx)(i.b,{path:"/login",exact:!0,component:v}),Object(b.jsx)(h,{path:"/welcome/:name",exact:!0,component:C}),Object(b.jsx)(h,{path:"/todos/:id",exact:!0,component:I}),Object(b.jsx)(h,{path:"/todos",exact:!0,component:k}),Object(b.jsx)(h,{path:"/logout",exact:!0,component:y}),Object(b.jsx)(i.b,{component:T})]}),Object(b.jsx)(w,{})]})})};var A=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(L,{})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),a(e),o(e)}))};o.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(A,{})}),document.getElementById("root")),E()}},[[75,1,2]]]);
//# sourceMappingURL=main.eef9283c.chunk.js.map